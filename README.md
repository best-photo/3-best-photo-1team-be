# í’€ìŠ¤íƒ 3ê¸° íŒŒíŠ¸3 1íŒ€

- [íŒ€ ë¬¸ì„œ](https://www.notion.so/chobodev/16924202780c809a9cdee8926986f244?v=16924202780c811580b1000c2847f948)
- [Swagger](https://api.ooyoo.dev/api)

## íŒ€ì› êµ¬ì„±
| ì´ë¦„ | ì—­í•  | Github |
|------|------|---------|
| ğŸ§­ ê°•ëŒ€ì› | FullStack | [@Daewony](https://github.com/Daewony) |
| ğŸŒŸ ë°•ìˆ˜í™˜ | FullStack | [@soohwanpak](https://github.com/soohwanpak) |
| ğŸ—ï¸ ì´í˜„ìš° | FullStack | [@gealot](https://github.com/gealot) |
| ğŸ¯ ì„ì˜ˆì§€ | FullStack | [@Bluemoon105](https://github.com/Bluemoon105) |
| ğŸ’« ì •ìœ ì„ | FullStack | [@yousuk88](https://github.com/yousuk88) |
| ğŸ¨ í•¨í—Œê·œ | FullStack | [@heonq](https://github.com/heonq) |

## í”„ë¡œì íŠ¸ ì†Œê°œ

- ê°œì¸ìš© ë””ì§€í„¸ ì‚¬ì§„ì²© ìƒì„± í”Œë«í¼, ìµœì• ì˜ í¬í† 
- í”„ë¡œì íŠ¸ ê¸°ê°„: 2024.12.27 ~ 2025.1.21

## ê¸°ìˆ  ìŠ¤íƒ(ë°±ì—”ë“œ)

- Nest.js
- Typescript
- Prisma
- PostgreSQL
- argon2
- class-validator/transformer
- multer
- passport
- jwt

---

## íŒ€ì›ë³„ êµ¬í˜„ ê¸°ëŠ¥ ìƒì„¸

### ê°•ëŒ€ì›

### ë°•ìˆ˜í™˜

####
ë§ˆì¼“í”Œë ˆì´ìŠ¤ í˜ì´ì§€
- í”„ë¡ íŠ¸ì—ì„œ ì…ë ¥í•œ query, filterì •ë³´ì— ë§ëŠ” ë°ì´í„° ë°˜í™˜ API êµ¬í˜„
- ëª¨ë°”ì¼ í™”ë©´ í•„í„°ëª¨ë‹¬ì— í•„ìš”í•œ ë°ì´í„° ë°˜í™˜, ëª¨ë°”ì¼í•„í„°ì—ì„œ ì„ íƒí•œ ê°’ì— ë”°ë¥¸ ë°ì´í„° ë°˜í™˜ API êµ¬í˜„

####
ë‚˜ì˜ í¬í† ì¹´ë“œ íŒë§¤í•˜ê¸° ëª¨ë‹¬( íŒë§¤í•  í¬í† ì¹´ë“œ ì„ íƒ ëª¨ë‹¬) 
- ë¡œê·¸ì¸í•œ ìœ ì €ì˜ IDë¥¼ ì´ìš©í•´ í•´ë‹¹ ìœ ì €ì˜ ì¹´ë“œëª©ë¡( íŒë§¤ë“±ë¡ì•ˆë˜ì–´ìˆëŠ” ì¹´ë“œ) ë°ì´í„° ë°˜í™˜ API êµ¬í˜„
- í”„ë¡ íŠ¸ì—ì„œ ì…ë ¥í•œ query, filterì •ë³´ì— ë§ëŠ” ë°ì´í„° ë°˜í™˜ API êµ¬í˜„

####
êµí™˜ í¬ë§ ì •ë³´ ì…ë ¥ ëª¨ë‹¬( íŒë§¤í•  í¬í† ì¹´ë“œ ì„ íƒ í›„)
- ì‚¬ìš©ìê°€ ì…ë ¥í•œ íŒë§¤í¬ë§ ê°€ê²©, íŒë§¤í¬ë§ ìˆ˜ëŸ‰, / êµí™˜ í¬ë§ ì¥ë¥´,ë“±ê¸‰,ì„¤ëª… ë°ì´í„° ìƒì ì— ë“±ë¡ API êµ¬í˜„

### ì´í˜„ìš°

#### ë°±ì—”ë“œ í”„ë¡œì íŠ¸ ì´ˆê¸° ì„¸íŒ…
- ë°±ì—”ë“œ í”„ë¡œì íŠ¸ ìƒì„± ë° ê¸°ë³¸ êµ¬ì¡° ì„¤ì •
- ìŠ¤í‚¤ë§ˆ ì‘ì„± ë° ë§ˆì´ê·¸ë ˆì´ì…˜ í˜•ìƒê´€ë¦¬
- auto_incrementì˜ ì˜ˆì¸¡ ê³µê²© ë“±ì„ ì˜ˆë°©í•˜ê³  uuidì˜ ë¬´ì‘ìœ„ì„±ì„ ë™ì‹œì— ë³´ì¥í•˜ê¸° ìœ„í•´ cuid2ë¥¼ PKë¡œ ì‚¬ìš©
- ë¬´ì‘ìœ„ ëŒ€ì…(rainbow attack), ë¶€ì±„ë„ ê³µê²©(side-channel attack)ì„ ë§‰ê¸° ìœ„í•´ argon2ë¥¼ íŒ¨ìŠ¤ì›Œë“œ ì•”í˜¸í™” ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ ì‚¬ìš© 

#### ì¸ì¦(Auth) API
- NestJSì˜ Guardë¥¼ ì´ìš©í•˜ì—¬, íšŒì›ë§Œ ë³¼ ìˆ˜ ìˆëŠ” í˜ì´ì§€ ë“± íŠ¹ì • í˜ì´ì§€ë‚˜ ê²½ë¡œì— ëŒ€í•´ ì‚¬ìš©ì ê¶Œí•œì„ ì œì–´í•˜ì˜€ìŠµë‹ˆë‹¤.
- ì»¤ìŠ¤í…€ ë°ì½”ë ˆì´í„°ë¥¼ ì´ìš©í•˜ì—¬, ìš”ì²­ ì¿ í‚¤(JWT AccessToken)ì—ì„œ ì‚¬ìš©ì ì •ë³´ë¥¼ ì¶”ì¶œí•˜ì—¬ ë¡œê·¸ì¸í•œ ì‚¬ìš©ìIdë¥¼ ì‰½ê²Œ íšë“í•  ìˆ˜ ìˆë„ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
- íšŒì›ê°€ì…, ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒ, í† í° ë¦¬í”„ë ˆì‰¬ API êµ¬í˜„

#### ìœ ì €(Users) API
- íšŒì› í”„ë¡œí•„(ìœ ì €ID, ì´ë©”ì¼, ë‹‰ë„¤ì„, í¬ì¸íŠ¸ ë“±) ì¡°íšŒ API êµ¬í˜„
- ì´ë©”ì¼, ë‹‰ë„¤ì„ ì¤‘ë³µ ì²´í¬ API êµ¬í˜„

#### í¬ì¸íŠ¸(Points) API
- ëœë¤í¬ì¸íŠ¸ ìƒì ì—´ê¸°(ë‹¹ì²¨í™•ë¥  ê°€ì¤‘ì¹˜ ê³ ë ¤) API êµ¬í˜„
- ë§ˆì§€ë§‰ìœ¼ë¡œ ëœë¤í¬ì¸íŠ¸ë¥¼ ì—° ì‹œê°„(last-draw-time) API êµ¬í˜„

### ì„ì˜ˆì§€

- ë§ˆì´ê°¤ëŸ¬ë¦¬ í˜ì´ì§€
  - ë¡œê·¸ì¸í•œ ì‚¬ìš©ìê°€ ì†Œìœ í•œ í¬í† ì¹´ë“œ ì¡°íšŒ API
  - í•„í„°ë§ ê¸°ëŠ¥ ì¶”ê°€

- ë§ˆì´ê°¤ëŸ¬ë¦¬ ìƒì„¸ í˜ì´ì§€
  - í¬í† ì¹´ë“œ idë¥¼ í†µí•œ ìƒì„¸ ì¡°íšŒ API
 
- í¬í†  ì¹´ë“œ ìƒì„± í˜ì´ì§€
  - í¬í†  ì¹´ë“œ ìƒì„± API
  - í¬ìŠ¤íŠ¸í•œ ì´ë¯¸ì§€ ë¶ˆëŸ¬ì˜¤ê¸° API

### ì •ìœ ì„
- ì´ë²ˆ í”„ë¡œì íŠ¸ì—ì„œëŠ” í”„ë¡ íŠ¸ì—”ë“œ íŒŒíŠ¸ì—ë§Œ ì°¸ì—¬í•˜ì˜€ìŠµë‹ˆë‹¤.

### í•¨í—Œê·œ
- ì‚¬ìš©ìê°€ íŒë§¤ì¤‘ì´ê±°ë‚˜ êµí™˜ ì œì‹œí•œ í¬í† ì¹´ë“œë¥¼ ì¡°íšŒí•˜ëŠ” API êµ¬í˜„ (ì¿¼ë¦¬ íŒŒë¼ë¯¸í„°ì— ë”°ë¼ ë¶ˆëŸ¬ì˜¬ ë°ì´í„°ë¥¼ í•„í„°ë§í•˜ê³  í˜ì´ì§€ë„¤ì´ì…˜í•˜ëŠ” ê¸°ëŠ¥ í¬í•¨)
- ì‚¬ìš©ìê°€ íŒë§¤ì¤‘ì´ê±°ë‚˜ êµí™˜ ì œì‹œí•œ í¬í† ì¹´ë“œì˜ ì „ì²´ ìˆ˜ëŸ‰ì„ ì¡°íšŒí•˜ëŠ” API êµ¬í˜„
- ìŠ¤í‚¤ë§ˆ í…Œì´ë¸”ì— ë§ëŠ” mockdataë¥¼ êµ¬ì„±í•˜ê³  seed ì½”ë“œ ì‘ì„±
- multerë¥¼ ì‚¬ìš©í•´ ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹œ ì´ë¯¸ì§€ ê²½ë¡œ ì•ì— ì„œë²„ì˜ ë°°í¬ ì£¼ì†Œë¥¼ ì¶”ê°€í•˜ë„ë¡ ìˆ˜ì •
- ìˆ˜í™˜ë‹˜ê³¼ ë…¼ì˜í•´ì„œ Shop í…Œì´ë¸”ì— í•„ë“œ ì¶”ê°€ ê²°ì •

## íŒŒì¼ êµ¬ì¡°

```
ğŸ“¦3-best-photo-1team-be
 â”£ ğŸ“‚prisma
 â”ƒ â”£ ğŸ“‚migrations
 â”ƒ â”ƒ â”£ ğŸ“‚20250119144851_init
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œmigration.sql
 â”ƒ â”ƒ â”— ğŸ“‚20250120063052_
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œmigration.sql
 â”ƒ â”£ ğŸ“‚schema
 â”ƒ â”ƒ â”£ ğŸ“œCard.prisma
 â”ƒ â”ƒ â”£ ğŸ“œExchange.prisma
 â”ƒ â”ƒ â”£ ğŸ“œNotification.prisma
 â”ƒ â”ƒ â”£ ğŸ“œPoint.prisma
 â”ƒ â”ƒ â”£ ğŸ“œPointHistory.prisma
 â”ƒ â”ƒ â”£ ğŸ“œPurchase.prisma
 â”ƒ â”ƒ â”£ ğŸ“œShop.prisma
 â”ƒ â”ƒ â”£ ğŸ“œUser.prisma
 â”ƒ â”ƒ â”— ğŸ“œschema.prisma
 â”ƒ â”— ğŸ“œseed.ts
 â”£ ğŸ“‚src
 â”ƒ â”£ ğŸ“‚auth
 â”ƒ â”ƒ â”£ ğŸ“‚decorators
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œget-user.decorator.ts
 â”ƒ â”ƒ â”£ ğŸ“‚dto
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œauth.dto.ts
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œcreate-auth.dto.ts
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œupdate-auth.dto.ts
 â”ƒ â”ƒ â”£ ğŸ“‚entities
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œauth.entity.ts
 â”ƒ â”ƒ â”£ ğŸ“œauth.controller.ts
 â”ƒ â”ƒ â”£ ğŸ“œauth.guard.ts
 â”ƒ â”ƒ â”£ ğŸ“œauth.module.ts
 â”ƒ â”ƒ â”£ ğŸ“œauth.service.ts
 â”ƒ â”ƒ â”£ ğŸ“œjwt.strategy.ts
 â”ƒ â”ƒ â”— ğŸ“œrefresh-token.strategy.ts
 â”ƒ â”£ ğŸ“‚cards
 â”ƒ â”ƒ â”£ ğŸ“‚dto
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚exchangeCards
 â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“œmy-exchange-card.dto.ts
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“‚sellingCards
 â”ƒ â”ƒ â”ƒ â”ƒ â”— ğŸ“œmy-selling-card.dto.ts
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œcards.dto.ts
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œcreate-card.dto.ts
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œpropose-exchange-card.dto.ts
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œupdate-card.dto.ts
 â”ƒ â”ƒ â”£ ğŸ“‚entities
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œcard.entity.ts
 â”ƒ â”ƒ â”£ ğŸ“œcards.controller.ts
 â”ƒ â”ƒ â”£ ğŸ“œcards.module.ts
 â”ƒ â”ƒ â”— ğŸ“œcards.service.ts
 â”ƒ â”£ ğŸ“‚image
 â”ƒ â”ƒ â”— ğŸ“œimage.controller.ts
 â”ƒ â”£ ğŸ“‚notifications
 â”ƒ â”ƒ â”£ ğŸ“‚dto
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œcreate-notification.dto.ts
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œnotifications.dto.ts
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œupdate-notification.dto.ts
 â”ƒ â”ƒ â”£ ğŸ“‚entities
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œnotification.entity.ts
 â”ƒ â”ƒ â”£ ğŸ“œnotifications.controller.ts
 â”ƒ â”ƒ â”£ ğŸ“œnotifications.module.ts
 â”ƒ â”ƒ â”— ğŸ“œnotifications.service.ts
 â”ƒ â”£ ğŸ“‚points
 â”ƒ â”ƒ â”£ ğŸ“‚dto
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œcreate-point.dto.ts
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œpoints.dto.ts
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œupdate-point.dto.ts
 â”ƒ â”ƒ â”£ ğŸ“‚entities
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œpoint.entity.ts
 â”ƒ â”ƒ â”£ ğŸ“œpoints.controller.ts
 â”ƒ â”ƒ â”£ ğŸ“œpoints.module.ts
 â”ƒ â”ƒ â”— ğŸ“œpoints.service.ts
 â”ƒ â”£ ğŸ“‚prisma
 â”ƒ â”ƒ â”£ ğŸ“œprisma.module.ts
 â”ƒ â”ƒ â”— ğŸ“œprisma.service.ts
 â”ƒ â”£ ğŸ“‚shared
 â”ƒ â”ƒ â”— ğŸ“‚swagger
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œApiCustomDocs.ts
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œswagger.options.ts
 â”ƒ â”£ ğŸ“‚shop
 â”ƒ â”ƒ â”£ ğŸ“‚dto
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œcreate-shop.dto.ts
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œpurchase-card.dto.ts
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œpurchase-response.dto.ts
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œshop.dto.ts
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œupdate-shop.dto.ts
 â”ƒ â”ƒ â”£ ğŸ“‚entities
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œshop.entity.ts
 â”ƒ â”ƒ â”£ ğŸ“œshop.controller.ts
 â”ƒ â”ƒ â”£ ğŸ“œshop.module.ts
 â”ƒ â”ƒ â”— ğŸ“œshop.service.ts
 â”ƒ â”£ ğŸ“‚users
 â”ƒ â”ƒ â”£ ğŸ“‚dto
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œcreate-user.dto.ts
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œupdate-user.dto.ts
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œuser.dto.ts
 â”ƒ â”ƒ â”£ ğŸ“‚entities
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œuser.entity.ts
 â”ƒ â”ƒ â”£ ğŸ“‚services
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œfilter-factory.service.ts
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œgenre-filter.service.ts
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œgrade-filter.service.ts
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œsales-method-filter.service.ts
 â”ƒ â”ƒ â”ƒ â”£ ğŸ“œservice.types.ts
 â”ƒ â”ƒ â”ƒ â”— ğŸ“œstock-state-filter.service.ts
 â”ƒ â”ƒ â”£ ğŸ“œusers.controller.ts
 â”ƒ â”ƒ â”£ ğŸ“œusers.module.ts
 â”ƒ â”ƒ â”— ğŸ“œusers.service.ts
 â”ƒ â”£ ğŸ“œapp.controller.ts
 â”ƒ â”£ ğŸ“œapp.module.ts
 â”ƒ â”£ ğŸ“œapp.service.ts
 â”ƒ â”— ğŸ“œmain.ts
 â”£ ğŸ“‚test
 â”ƒ â”£ ğŸ“œapp.e2e-spec.ts
 â”ƒ â”— ğŸ“œjest-e2e.json
 â”£ ğŸ“‚uploads
 â”£ ğŸ“œ.dockerignore
 â”£ ğŸ“œ.editorconfig
 â”£ ğŸ“œ.env
 â”£ ğŸ“œ.eslintrc.js
 â”£ ğŸ“œ.gitignore
 â”£ ğŸ“œ.npmrc
 â”£ ğŸ“œ.prettierrc
 â”£ ğŸ“œ.tool-versions
 â”£ ğŸ“œDockerfile
 â”£ ğŸ“œREADME.md
 â”£ ğŸ“œfly.toml
 â”£ ğŸ“œnest-cli.json
 â”£ ğŸ“œpackage-lock.json
 â”£ ğŸ“œpackage.json
 â”£ ğŸ“œtsconfig.build.json
 â”— ğŸ“œtsconfig.json
```
